!function(c){function e(e){for(var t,r,n=e[0],a=e[1],o=e[2],u=0,i=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(f,r)&&f[r]&&i.push(f[r][0]),f[r]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(c[t]=a[t]);for(p&&p(e);i.length;)i.shift()();return l.push.apply(l,o||[]),s()}function s(){for(var e,t=0;t<l.length;t++){for(var r=l[t],n=!0,a=1;a<r.length;a++){var o=r[a];0!==f[o]&&(n=!1)}n&&(l.splice(t--,1),e=u(u.s=r[0]))}return e}var r={},f={1:0},l=[];function u(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.m=c,u.c=r,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)u.d(r,n,function(e){return t[e]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="";var t=window.webpackJsonp=window.webpackJsonp||[],n=t.push.bind(t);t.push=e,t=t.slice();for(var a=0;a<t.length;a++)e(t[a]);var p=n;l.push([25,2,0]),s()}([function(e,t,r){"use strict";t.a={KEY:"YOUR_API_KEY",BASE_URL:"https://dicoding-restaurant-api.el.r.appspot.com/",BASE_IMG_URL:"https://dicoding-restaurant-api.el.r.appspot.com/images",CACHE_NAME:{prefix:"restplore",suffix:"v1",precache:"app-shell"},DATABASE_NAME:"restaurant-database",DATABASE_VERSION:1,OBJECT_STORE_NAME:"favorite"}},,function(e,t,r){"use strict";var n=r(15),a=r(0);function c(e,t,r,n,a,o,u){try{var i=e[o](u),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function o(i){return function(){var e=this,u=arguments;return new Promise(function(t,r){var n=i.apply(e,u);function a(e){c(n,t,r,a,o,"next",e)}function o(e){c(n,t,r,a,o,"throw",e)}a(void 0)})}}var u=a.a.DATABASE_NAME,r=a.a.DATABASE_VERSION,i=a.a.OBJECT_STORE_NAME,s=Object(n.a)(u,r,{upgrade:function(e){e.createObjectStore(i,{keyPath:"id"})}}),r={getRestaurant:function(t){return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s;case 4:return e.abrupt("return",e.sent.get(i,t));case 5:case"end":return e.stop()}},e)}))()},getAllRestaurant:function(){return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:return e.abrupt("return",e.sent.getAll(i));case 3:case"end":return e.stop()}},e)}))()},putRestaurant:function(t){return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasOwnProperty("id")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s;case 4:return e.abrupt("return",e.sent.put(i,t));case 5:case"end":return e.stop()}},e)}))()},deleteRestaurant:function(t){return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:return e.abrupt("return",e.sent.delete(i,t));case 3:case"end":return e.stop()}},e)}))()}};t.a=r},function(e,t,r){"use strict";var n=r(0),r={restaurantList:"".concat(n.a.BASE_URL,"/list"),detail:function(e){return"".concat(n.a.BASE_URL,"/detail/").concat(e)},addReview:"".concat(n.a.BASE_URL,"/review")};t.a=r},function(e,t,r){"use strict";var n={parseActiveUrlWithCombiner:function(){var e=window.location.hash.slice(1).toLowerCase(),e=this.urlSplitter(e);return this.urlCombiner(e)},parseActiveUrlWithoutCombiner:function(){var e=window.location.hash.slice(1).toLowerCase();return this.urlSplitter(e)},urlSplitter:function(e){e=e.split("/");return{resource:e[1]||null,id:e[2]||null,verb:e[3]||null}},urlCombiner:function(e){return(e.resource?"/".concat(e.resource):"/")+(e.id?"/:id":"")+(e.verb?"/".concat(e.verb):"")}};t.a=n},function(e,t,r){"use strict";var u=r(3);function c(e,t,r,n,a,o,u){try{var i=e[o](u),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function i(i){return function(){var e=this,u=arguments;return new Promise(function(t,r){var n=i.apply(e,u);function a(e){c(n,t,r,a,o,"next",e)}function o(e){c(n,t,r,a,o,"throw",e)}a(void 0)})}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r=function(){function t(){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this)}var e,r,n,a,o;return e=t,r=null,n=[{key:"restaurantList",value:(o=i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u.a.restaurantList);case 2:return t=e.sent,e.next=5,t.json();case 5:return t=e.sent,e.abrupt("return",t.restaurants);case 7:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)})},{key:"detailRestaurant",value:(a=i(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u.a.detail(t));case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})}],r&&s(e.prototype,r),n&&s(e,n),t}();t.a=r},,,,,,,function(e,t,r){"use strict";var n=r(2),a=r(1);function c(e,t,r,n,a,o,u){try{var i=e[o](u),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function o(i){return function(){var e=this,u=arguments;return new Promise(function(t,r){var n=i.apply(e,u);function a(e){c(n,t,r,a,o,"next",e)}function o(e){c(n,t,r,a,o,"throw",e)}a(void 0)})}}r={init:function(n){var a=this;return o(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.likeButtonContainer,r=n.restaurant,a._likeButtonContainer=t,a._restaurant=r,e.next=5,a._renderButton();case 5:case"end":return e.stop()}},e)}))()},_renderButton:function(){var r=this;return o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r._restaurant.id,e.next=3,r._isRestaurantExist(t);case 3:if(!e.sent){e.next=7;break}r._renderLiked(),e.next=8;break;case 7:r._renderLike();case 8:case"end":return e.stop()}},e)}))()},_isRestaurantExist:function(r){return o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.getRestaurant(r);case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}},e)}))()},_renderLike:function(){var t=this;this._likeButtonContainer.innerHTML=Object(a.b)(),document.querySelector("#likeButton").addEventListener("click",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.putRestaurant(t._restaurant);case 2:t._renderButton();case 3:case"end":return e.stop()}},e)})))},_renderLiked:function(){var t=this;this._likeButtonContainer.innerHTML=Object(a.h)(),document.querySelector("#likedButton").addEventListener("click",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.deleteRestaurant(t._restaurant.id);case 2:t._renderButton();case 3:case"end":return e.stop()}},e)})))}};t.a=r},function(e,t,r){"use strict";var n=r(3);function c(e,t,r,n,a,o,u){try{var i=e[o](u),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}r=function(){var i,e=(i=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:t.id,name:t.name,review:t.review},r={method:"POST",headers:{"Content-Type":"application/json","X-Auth-Token":"12345"},body:JSON.stringify(r)},e.next=4,fetch(n.a.addReview,r).then(function(e){return e.json()}).then(function(e){console.log(e.message)}).catch(function(e){console.log(e)});case 4:case"end":return e.stop()}},e)}),function(){var e=this,u=arguments;return new Promise(function(t,r){var n=i.apply(e,u);function a(e){c(n,t,r,a,o,"next",e)}function o(e){c(n,t,r,a,o,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}}();t.a=r},,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);r(16),r(18),r(20);var o=r(4),n=r(9),a=r(10),t=r(11),u={"/":n.a,"/like":a.a,"/detail/:id":t.a},c=(r(22),r(23),r(24),{init:function(e){var t=this,r=e.button,n=e.drawer,e=e.content;r.addEventListener("click",function(e){t._toggleDrawer(e,n)}),e.addEventListener("click",function(e){t._closeDrawer(e,n)})},_toggleDrawer:function(e,t){e.stopPropagation(),t.classList.toggle("open")},_closeDrawer:function(e,t){e.stopPropagation(),t.classList.remove("open")}});function s(e,t,r,n,a,o,u){try{var i=e[o](u),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t=function(){function n(e){var t=e.button,r=e.drawer,e=e.content;!function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this._button=t,this._drawer=r,this._content=e,this.initialAppShell()}var e,t,r,i,a;return e=n,(t=[{key:"initialAppShell",value:function(){c.init({button:this._button,drawer:this._drawer,content:this._content})}},{key:"renderPage",value:(i=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.a.parseActiveUrlWithCombiner(),t=u[t],e.next=4,t.render();case 4:return this._content.innerHTML=e.sent,e.next=7,t.afterRender();case 7:case"end":return e.stop()}},e,this)}),a=function(){var e=this,u=arguments;return new Promise(function(t,r){var n=i.apply(e,u);function a(e){s(n,t,r,a,o,"next",e)}function o(e){s(n,t,r,a,o,"throw",e)}a(void 0)})},function(){return a.apply(this,arguments)})}])&&f(e.prototype,t),r&&f(e,r),n}(),l=r(14);function p(e,t,r,n,a,o,u){try{var i=e[o](u),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}var i=function(){var i,e=(i=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("serviceWorker"in navigator)return t=new l.a("./sw.js"),e.next=4,t.register();e.next=5;break;case 4:return e.abrupt("return");case 5:console.log("Service worker not supported in this browser");case 6:case"end":return e.stop()}},e)}),function(){var e=this,u=arguments;return new Promise(function(t,r){var n=i.apply(e,u);function a(e){p(n,t,r,a,o,"next",e)}function o(e){p(n,t,r,a,o,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}}(),v=new t({button:document.querySelector("#hamburger"),drawer:document.querySelector("#drawer"),content:document.querySelector("main")});window.addEventListener("hashchange",function(){v.renderPage()}),window.addEventListener("load",function(){v.renderPage(),i()})}]);